# Pomodoro Plant

A Pomodoro timer application built with Electron and Express.

## Architecture

This project uses a **Hybrid Architecture**:

*   **Backend (`server/`)**: An Express.js server that handles:
    *   **API**: Endpoints for data retrieval (plants, user stats, auth).
    *   **Real-time**: Socket.IO for syncing state.
    *   **Asset Generation**: Scripts to compile Pug templates to HTML and generate dynamic SVGs.
*   **Frontend (`electron/`)**: An Electron application that loads **static HTML files**.
    *   It communicates with the local server (`http://localhost:5001`) for data.
    *   Static assets (HTML, CSS, JS, Images) are generated by the server build scripts and copied to the Electron app.

## Prerequisites

*   Node.js (v14 or higher)
*   npm

## Installation

1.  **Install Server Dependencies**:
    ```bash
    cd server
    npm install
    ```

2.  **Install Electron Dependencies**:
    ```bash
    cd electron
    npm install
    ```

## Building the Application

Before running the Electron app, you must generate the static views and assets.

1.  **Build Views and Assets**:
    ```bash
    cd server
    npm run build:views   # Compiles Pug templates to HTML
    npm run build:assets  # Generates flower SVGs
    ```

## Running the Application

You need to run both the server (for API/Data) and the Electron app.

1.  **Start the Server**:
    Open a terminal and run:
    ```bash
    cd server
    npm start
    ```
    The server will start on `http://localhost:5001`.

2.  **Start the Electron App**:
    Open a second terminal and run:
    ```bash
    cd electron
    npm start
    ```
    *Note: `npm start` in `electron/` automatically runs `copy-assets.js` to sync the latest build from the server.*

## Project Structure

### `server/`
*   `app.js`: Main entry point for the Express server.
*   `build-views.js`: Script to compile Pug templates to static HTML.
*   `generate-assets.js`: Script to generate static SVG assets.
*   `public/`: Output directory for generated static files.
*   `views/`: Source Pug templates.
*   `routes/`: API and Auth routes.
*   `users.db`: SQLite database.

### `electron/`
*   `src/main.js`: Main process, configured to load local HTML files.
*   `public/`: Destination for static assets (synced from `server/public`).
*   `copy-assets.js`: Helper script to sync assets.

## Features
*   **User Accounts**: Register and Login.
*   **Pomodoro Timer**: Standard 25/5/15 minute intervals.
*   **Plant Theme**: Grow plants as you study!
*   **Offline-Ready Views**: UI loads instantly from local files.
